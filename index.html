<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Invitación</title>

  <meta name="theme-color" content="#0f1a2c" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

  <link rel="preload" as="image" href="decoracion.jpg" />
  <link rel="preload" as="image" href="sobre.webp" type="image/webp" />
  <link rel="prefetch" href="invitacion.html" as="document">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Playfair Display', serif;
      background-image: url('decoracion.jpg');
      background-size: cover; background-position: center; background-repeat: no-repeat;
      overflow: hidden;
    }
    body.fade-out { opacity: 0; transition: opacity 1.2s ease; }

    .container {
      min-height: 100svh; width: 100vw;
      background-image:
        image-set(url('sobre.webp') type('image/webp'),
                  url('sobre.jpg') type('image/jpeg'));
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      position: relative;
      cursor: pointer;
      outline: none;
      touch-action: manipulation;
      display: block;
    }
    .container::before {
      content: "";
      position: absolute; inset: 0;
      background-image: url('decoracion.jpg');
      background-size: cover; background-position: center; background-repeat: no-repeat;
      opacity: .18;
      mix-blend-mode: soft-light;
      pointer-events: none;
    }
    .container::after {
      content: "";
      position: absolute; inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.32));
      pointer-events: none;
    }
    @media (prefers-reduced-motion: reduce) {
      .fade-out { transition: none; }
    }
  </style>
</head>
<body>
  <div id="container" class="container" role="button" aria-label="Abrir invitación" tabindex="0"></div>

  <noscript>
    <p style="padding:1rem;color:#1A1A1A;background:rgba(255,255,255,.85)">
      Haz clic <a href="invitacion.html">aquí</a> si no se carga automáticamente.
    </p>
  </noscript>

  <script>
    function hapticTap() {
      try {
        const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (!reduce && typeof navigator.vibrate === 'function') {
          navigator.vibrate(12);
        }
      } catch (_) {}
    }
    function abrirInvitacion() {
      hapticTap();
      document.body.classList.add('fade-out');
      setTimeout(() => { location.href = 'invitacion.html'; }, 1200);
    }
    const c = document.getElementById('container');
    c.addEventListener('click', abrirInvitacion);
    c.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        abrirInvitacion();
      }
    });
    c.addEventListener('pointerdown', () => {
      try { if (typeof navigator.vibrate === 'function') navigator.vibrate(8); } catch(_) {}
    }, { passive: true });
  </script>
</body>
</html>
